---
import Layout from '../layouts/Layout.astro';
import FormCard from '../components/FormCard.jsx';
import { pdfForms } from '../data/forms.js';
import { FileText, Edit3, Shield, Download, Globe, CheckCircle } from 'lucide-react';
---

<Layout>
  <div class="min-h-screen">
    <!-- Language Selector -->
    <div class="bg-gray-100 py-2">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-end">
          <div class="flex space-x-2">
            <button class="px-3 py-1 text-sm bg-blue-500 text-white rounded-md" data-lang="en">English</button>
            <button class="px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300" data-lang="es">Español</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Header -->
    <header class="bg-white shadow-sm border-b">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="text-center">
          <div class="flex items-center justify-center mb-6">
            <div class="bg-gradient-to-r from-blue-500 to-purple-600 p-4 rounded-2xl shadow-lg">
              <FileText className="w-10 h-10 text-white" />
            </div>
          </div>
          <h1 class="text-5xl font-bold text-gray-900 mb-4" data-en="AllForm.dev" data-es="AllForm.dev">
            AllForm.dev
          </h1>
          <p class="text-2xl text-gray-600 max-w-4xl mx-auto mb-6" data-en="Professional online PDF form editing. Fill, edit, and sign PDF forms directly in your browser with no downloads required." data-es="Edición profesional de formularios PDF en línea. Complete, edite y firme formularios PDF directamente en su navegador sin descargas requeridas.">
            Professional online PDF form editing. Fill, edit, and sign PDF forms directly in your browser with no downloads required.
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="#forms" class="bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors" data-en="Browse Forms" data-es="Explorar Formularios">
              Browse Forms
            </a>
            <a href="#features" class="border-2 border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white px-8 py-3 rounded-lg font-semibold transition-colors" data-en="Learn More" data-es="Saber Más">
              Learn More
            </a>
          </div>
        </div>
      </div>
    </header>

    <!-- Features -->
    <section id="features" class="bg-gradient-to-br from-blue-50 to-purple-50 py-20">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-bold text-gray-900 mb-4" data-en="Why Choose AllForm.dev?" data-es="¿Por qué elegir AllForm.dev?">
            Why Choose AllForm.dev?
          </h2>
          <p class="text-xl text-gray-600 max-w-3xl mx-auto" data-en="Professional PDF form editing made simple and secure" data-es="Edición profesional de formularios PDF hecha simple y segura">
            Professional PDF form editing made simple and secure
          </p>
        </div>
        
        <div class="grid md:grid-cols-3 gap-8">
          <div class="text-center bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300">
            <div class="bg-gradient-to-r from-blue-500 to-blue-600 p-4 rounded-2xl w-20 h-20 mx-auto mb-6 shadow-lg">
              <Edit3 className="w-10 h-10 text-white" />
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-4" data-en="Easy Editing" data-es="Edición Fácil">Easy Editing</h3>
            <p class="text-gray-600" data-en="Click to edit any form field, add text, highlight content, and draw signatures with our intuitive tools" data-es="Haga clic para editar cualquier campo de formulario, agregar texto, resaltar contenido y dibujar firmas con nuestras herramientas intuitivas">
              Click to edit any form field, add text, highlight content, and draw signatures with our intuitive tools
            </p>
          </div>
          
          <div class="text-center bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300">
            <div class="bg-gradient-to-r from-green-500 to-green-600 p-4 rounded-2xl w-20 h-20 mx-auto mb-6 shadow-lg">
              <Shield className="w-10 h-10 text-white" />
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-4" data-en="Secure & Private" data-es="Seguro y Privado">Secure & Private</h3>
            <p class="text-gray-600" data-en="All processing happens in your browser. Your documents never leave your device, ensuring complete privacy" data-es="Todo el procesamiento ocurre en su navegador. Sus documentos nunca salen de su dispositivo, garantizando privacidad completa">
              All processing happens in your browser. Your documents never leave your device, ensuring complete privacy
            </p>
          </div>
          
          <div class="text-center bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300">
            <div class="bg-gradient-to-r from-purple-500 to-purple-600 p-4 rounded-2xl w-20 h-20 mx-auto mb-6 shadow-lg">
              <Download className="w-10 h-10 text-white" />
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-4" data-en="Instant Download" data-es="Descarga Instantánea">Instant Download</h3>
            <p class="text-gray-600" data-en="Download your completed forms immediately as PDF files ready for submission or printing" data-es="Descargue sus formularios completados inmediatamente como archivos PDF listos para envío o impresión">
              Download your completed forms immediately as PDF files ready for submission or printing
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Forms Grid -->
    <section id="forms" class="py-20 bg-white">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-bold text-gray-900 mb-4" data-en="Available PDF Forms" data-es="Formularios PDF Disponibles">
            Available PDF Forms
          </h2>
          <p class="text-xl text-gray-600 max-w-3xl mx-auto" data-en="Choose from our collection of commonly used forms and start editing immediately" data-es="Elija de nuestra colección de formularios de uso común y comience a editar inmediatamente">
            Choose from our collection of commonly used forms and start editing immediately
          </p>
        </div>
        
        <!-- Search and Filter Controls -->
        <div class="mb-12">
          <div class="flex flex-col lg:flex-row gap-6 items-center justify-between">
            <!-- Search Bar -->
            <div class="w-full lg:w-1/3">
              <div class="relative">
                <input 
                  type="text" 
                  id="searchInput"
                  placeholder="Search forms..." 
                  class="w-full px-4 py-3 pl-12 pr-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"
                />
                <div class="absolute left-4 top-1/2 transform -translate-y-1/2">
                  <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                  </svg>
                </div>
              </div>
            </div>
            
            <!-- Category Filter -->
            <div class="w-full lg:w-1/3">
              <select 
                id="categoryFilter"
                class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"
              >
                <option value="" data-en="All Categories" data-es="Todas las Categorías">All Categories</option>
                <option value="Business" data-en="Business" data-es="Negocios">Business</option>
                <option value="Legal" data-en="Legal" data-es="Legal">Legal</option>
                <option value="Household" data-en="Household" data-es="Hogar">Household</option>
                <option value="Immigration" data-en="Immigration" data-es="Inmigración">Immigration</option>
                <option value="Entertainment" data-en="Entertainment" data-es="Entretenimiento">Entertainment</option>
                <option value="Literature" data-en="Literature" data-es="Literatura">Literature</option>
                <option value="Health" data-en="Health" data-es="Salud">Health</option>
                <option value="Tax" data-en="Tax" data-es="Impuestos">Tax</option>
              </select>
            </div>
            
            <!-- Sort Options -->
            <div class="w-full lg:w-1/3">
              <select 
                id="sortSelect"
                class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"
              >
                <option value="title" data-en="Sort by Title" data-es="Ordenar por Título">Sort by Title</option>
                <option value="category" data-en="Sort by Category" data-es="Ordenar por Categoría">Sort by Category</option>
                <option value="newest" data-en="Newest First" data-es="Más Recientes Primero">Newest First</option>
              </select>
            </div>
          </div>
          
          <!-- Results Counter -->
          <div class="mt-4 text-center">
            <span id="resultsCount" class="text-gray-600 font-medium">
              Showing <span id="showingCount">0</span> of <span id="totalCount">{pdfForms.length}</span> forms
            </span>
          </div>
        </div>
        
        <div id="formsGrid" class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
          {pdfForms.map((form) => (
            <FormCard form={form} client:load />
          ))}
        </div>
        
        <!-- No Results Message -->
        <div id="noResults" class="hidden text-center py-12">
          <div class="bg-gray-50 rounded-2xl p-8">
            <svg class="w-16 h-16 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.29-1.009-5.824-2.65M15 6.75a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
            <h3 class="text-xl font-semibold text-gray-900 mb-2" data-en="No forms found" data-es="No se encontraron formularios">No forms found</h3>
            <p class="text-gray-600" data-en="Try adjusting your search or filter criteria" data-es="Intenta ajustar tus criterios de búsqueda o filtro">Try adjusting your search or filter criteria</p>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="bg-gradient-to-r from-blue-600 to-purple-600 py-20">
      <div class="max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8">
        <h2 class="text-4xl font-bold text-white mb-6" data-en="Start Editing PDF Forms Today" data-es="Comience a Editar Formularios PDF Hoy">
          Start Editing PDF Forms Today
        </h2>
        <p class="text-xl text-blue-100 mb-8" data-en="No software installation required. Works on any device with a web browser." data-es="No se requiere instalación de software. Funciona en cualquier dispositivo con un navegador web.">
          No software installation required. Works on any device with a web browser.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a
            href="#forms"
            class="bg-white text-blue-600 hover:bg-gray-50 px-8 py-4 rounded-lg font-semibold transition-colors text-lg"
            data-en="Browse Forms"
            data-es="Explorar Formularios"
          >
            Browse Forms
          </a>
          <a
            href="#features"
            class="border-2 border-white text-white hover:bg-white hover:text-blue-600 px-8 py-4 rounded-lg font-semibold transition-colors text-lg"
            data-en="Learn More"
            data-es="Saber Más"
          >
            Learn More
          </a>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center">
          <div class="flex items-center justify-center mb-4">
            <div class="bg-gradient-to-r from-blue-500 to-purple-600 p-3 rounded-xl">
              <FileText className="w-8 h-8 text-white" />
            </div>
          </div>
          <h3 class="text-2xl font-bold mb-2">AllForm.dev</h3>
          <p class="text-gray-400 mb-6" data-en="Professional PDF form editing made simple" data-es="Edición profesional de formularios PDF hecha simple">
            Professional PDF form editing made simple
          </p>
          <div class="flex justify-center space-x-6">
            <a href="#features" class="text-gray-400 hover:text-white transition-colors" data-en="Features" data-es="Características">Features</a>
            <a href="#forms" class="text-gray-400 hover:text-white transition-colors" data-en="Forms" data-es="Formularios">Forms</a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors" data-en="Privacy" data-es="Privacidad">Privacy</a>
          </div>
          <div class="mt-8 pt-8 border-t border-gray-800">
            <p class="text-gray-500 text-sm" data-en="© 2024 AllForm.dev. All rights reserved." data-es="© 2024 AllForm.dev. Todos los derechos reservados.">
              © 2024 AllForm.dev. All rights reserved.
            </p>
          </div>
        </div>
      </div>
    </footer>
  </div>
</Layout>

<style>
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>

<script>
  // Language switching functionality
  document.addEventListener('DOMContentLoaded', function() {
    const langButtons = document.querySelectorAll('[data-lang]');
    const elements = document.querySelectorAll('[data-en], [data-es]');
    
    // Set initial language
    let currentLang = 'en';
    
    // Language switching function
    function switchLanguage(lang: string) {
      currentLang = lang;
      
      // Update button states
      langButtons.forEach(button => {
        if ((button as HTMLElement).dataset.lang === lang) {
          button.classList.remove('bg-gray-200', 'text-gray-700');
          button.classList.add('bg-blue-500', 'text-white');
        } else {
          button.classList.remove('bg-blue-500', 'text-white');
          button.classList.add('bg-gray-200', 'text-gray-700');
        }
      });
      
      // Update content
      elements.forEach(element => {
        const text = (element as HTMLElement).dataset[lang];
        if (text) {
          element.textContent = text;
        }
      });
      
      // Update document language
      document.documentElement.lang = lang;
      
      // Dispatch language change event for React components
      window.dispatchEvent(new CustomEvent('languageChange', { detail: lang }));
    }
    
    // Add click listeners to language buttons
    langButtons.forEach(button => {
      button.addEventListener('click', function(this: HTMLElement) {
        switchLanguage(this.dataset.lang || 'en');
      });
    });
    
    // Initialize with English
    switchLanguage('en');
    
    // Forms filtering and search functionality
    const searchInput = document.getElementById('searchInput');
    const categoryFilter = document.getElementById('categoryFilter');
    const sortSelect = document.getElementById('sortSelect');
    const formsGrid = document.getElementById('formsGrid');
    const noResults = document.getElementById('noResults');
    const showingCount = document.getElementById('showingCount');
    const totalCount = document.getElementById('totalCount');
    
    // Form data from server
    const formsData = [
      {
        "id": "form-the_magic_of_thinking_big",
        "title": "The Magic of Thinking Big",
        "titleEs": "La Magia de Pensar en Grande",
        "description": "A motivational book providing strategies for achieving success through positive thinking and bold actions.",
        "descriptionEs": "Un libro motivacional que proporciona estrategias para lograr el éxito a través del pensamiento positivo y acciones audaces.",
        "url": "https://allform.dev/files/the_magic_of_thinking_big/the_magic_of_thinking_big.pdf",
        "category": "Business",
        "categoryEs": "Negocios",
        "thumbnail": "https://allform.dev/files/the_magic_of_thinking_big/the_magic_of_thinking_big.jpg"
      },
      {
        "id": "form-to_kill_a_mocking_bird",
        "title": "To Kill a Mockingbird",
        "titleEs": "Matar a un ruiseñor",
        "description": "A government form inspired by Harper Lee's novel, dealing with themes of justice, morality, and racial inequality in a Southern trial context.",
        "descriptionEs": "Un formulario gubernamental inspirado en la novela de Harper Lee, que trata temas de justicia, moralidad e desigualdad racial en un contexto de juicio en el Sur.",
        "url": "https://allform.dev/files/to_kill_a_mocking_bird/to_kill_a_mocking_bird.pdf",
        "category": "Legal",
        "categoryEs": "Legal",
        "thumbnail": "https://allform.dev/files/to_kill_a_mocking_bird/to_kill_a_mocking_bird.jpg"
      },
      {
        "id": "form-bread_maker_recipe_book",
        "title": "Bread Maker Recipe Book",
        "titleEs": "Libro de Recetas para Panificadora",
        "description": "A collection of recipes designed for use with bread maker appliances.",
        "descriptionEs": "Una colección de recetas diseñadas para usar con electrodomésticos de panificación.",
        "url": "https://allform.dev/files/bread_maker_recipe_book/bread_maker_recipe_book.pdf",
        "category": "Household",
        "categoryEs": "Hogar",
        "thumbnail": "https://allform.dev/files/bread_maker_recipe_book/bread_maker_recipe_book.jpg"
      },
      {
        "id": "form-form_i-485",
        "title": "Application to Register Permanent Residence or Adjust Status",
        "titleEs": "Solicitud para Registrar la Residencia Permanente o Ajustar el Estatus",
        "description": "This form is used by individuals to apply for lawful permanent resident status in the United States.",
        "descriptionEs": "Este formulario se utiliza por individuos para solicitar el estatus de residente permanente legal en los Estados Unidos.",
        "url": "https://allform.dev/files/form_i-485/form_i-485.pdf",
        "category": "Immigration",
        "categoryEs": "Inmigración",
        "thumbnail": "https://allform.dev/files/form_i-485/form_i-485.jpg"
      },
      {
        "id": "form-out_of_the_abyss",
        "title": "Out of the Abyss Adventure Module",
        "titleEs": "Módulo de Aventura Fuera del Abismo",
        "description": "This is a Dungeons & Dragons 5th Edition adventure module for a fantasy role-playing game, not a government form.",
        "descriptionEs": "Este es un módulo de aventura de Dungeons & Dragons 5ª Edición para un juego de rol de fantasía, no un formulario gubernamental.",
        "url": "https://allform.dev/files/out_of_the_abyss/out_of_the_abyss.pdf",
        "category": "Entertainment",
        "categoryEs": "Entretenimiento",
        "thumbnail": "https://allform.dev/files/out_of_the_abyss/out_of_the_abyss.jpg"
      },
      {
        "id": "form-5e_monster_manual",
        "title": "Monster Manual (5th Edition)",
        "titleEs": "Manual de Monstruos (5ª Edición)",
        "description": "A comprehensive guide containing statistics and lore for creatures in the Dungeons & Dragons 5th Edition role-playing game.",
        "descriptionEs": "Una guía completa que contiene estadísticas y lore para criaturas en el juego de rol Dungeons & Dragons 5ª Edición.",
        "url": "https://allform.dev/files/5e_monster_manual/5e_monster_manual.pdf",
        "category": "Entertainment",
        "categoryEs": "Entretenimiento",
        "thumbnail": "https://allform.dev/files/5e_monster_manual/5e_monster_manual.jpg"
      },
      {
        "id": "form-streetcar_named_desire",
        "title": "A Streetcar Named Desire",
        "titleEs": "Un tranvía llamado deseo",
        "description": "This is the script of Tennessee Williams' Pulitzer Prize-winning play set in New Orleans, exploring themes of desire, mental illness, and Southern decline.",
        "descriptionEs": "Este es el guion de la obra ganadora del Premio Pulitzer de Tennessee Williams ambientada en Nueva Orleans, que explora temas de deseo, enfermedad mental y declive sureño.",
        "url": "https://allform.dev/files/streetcar_named_desire/streetcar_named_desire.pdf",
        "category": "Literature",
        "categoryEs": "Literatura",
        "thumbnail": "https://allform.dev/files/streetcar_named_desire/streetcar_named_desire.jpg"
      },
      {
        "id": "form-hunger_games",
        "title": "Hunger Games Registration Form",
        "titleEs": "Formulario de Registro para los Juegos del Hambre",
        "description": "This form is used to register participants for the annual Hunger Games event organized by the Capitol.",
        "descriptionEs": "Este formulario se utiliza para registrar participantes en el evento anual de los Juegos del Hambre organizado por el Capitolio.",
        "url": "https://allform.dev/files/hunger_games/hunger_games.pdf",
        "category": "Legal",
        "categoryEs": "Legal",
        "thumbnail": "https://allform.dev/files/hunger_games/hunger_games.jpg"
      },
      {
        "id": "form-biceps_tendonitis_exercises",
        "title": "Biceps Tendonitis Exercises",
        "titleEs": "Ejercicios para Tendinitis del Bíceps",
        "description": "A guide providing exercises to help manage and relieve symptoms of biceps tendonitis.",
        "descriptionEs": "Una guía que proporciona ejercicios para ayudar a manejar y aliviar los síntomas de la tendinitis del bíceps.",
        "url": "https://allform.dev/files/biceps_tendonitis_exercises/biceps_tendonitis_exercises.pdf",
        "category": "Health",
        "categoryEs": "Salud",
        "thumbnail": "https://allform.dev/files/biceps_tendonitis_exercises/biceps_tendonitis_exercises.jpg"
      },
      {
        "id": "form-giver",
        "title": "United States Gift Tax Return",
        "titleEs": "Declaración de Impuesto sobre Donaciones de los Estados Unidos",
        "description": "This form is used to report taxable gifts and calculate gift tax liability for individuals.",
        "descriptionEs": "Este formulario se utiliza para reportar donaciones imponibles y calcular la responsabilidad del impuesto sobre donaciones para individuos.",
        "url": "https://allform.dev/files/giver/giver.pdf",
        "category": "Tax",
        "categoryEs": "Impuestos",
        "thumbnail": "https://allform.dev/files/giver/giver.jpg"
      }
    ];
    
    let filteredForms = [...formsData];
    
    function filterAndSortForms() {
      const searchTerm = (searchInput as HTMLInputElement)?.value?.toLowerCase() || '';
      const selectedCategory = (categoryFilter as HTMLSelectElement)?.value || '';
      const sortBy = (sortSelect as HTMLSelectElement)?.value || 'title';
      
      // Filter forms
      filteredForms = formsData.filter(form => {
        const matchesSearch = !searchTerm || 
          form.title.toLowerCase().includes(searchTerm) ||
          form.description.toLowerCase().includes(searchTerm) ||
          (currentLang === 'es' && form.titleEs && form.titleEs.toLowerCase().includes(searchTerm)) ||
          (currentLang === 'es' && form.descriptionEs && form.descriptionEs.toLowerCase().includes(searchTerm));
        
        const matchesCategory = !selectedCategory || form.category === selectedCategory;
        
        return matchesSearch && matchesCategory;
      });
      
      // Sort forms
      filteredForms.sort((a, b) => {
        switch(sortBy) {
          case 'title':
            return a.title.localeCompare(b.title);
          case 'category':
            return a.category.localeCompare(b.category);
          case 'newest':
            return b.id.localeCompare(a.id); // Simple reverse alphabetical for demo
          default:
            return 0;
        }
      });
      
      // Update UI
      updateFormsDisplay();
    }
    
    function updateFormsDisplay() {
      const formsContainer = formsGrid;
      const noResultsDiv = noResults;
      
      if (!formsContainer || !noResultsDiv) return;
      
      // Clear current forms
      formsContainer.innerHTML = '';
      
      if (filteredForms.length === 0) {
        formsContainer.style.display = 'none';
        noResultsDiv.classList.remove('hidden');
      } else {
        formsContainer.style.display = 'grid';
        noResultsDiv.classList.add('hidden');
        
        // Create form cards
        filteredForms.forEach(form => {
          const formCard = createFormCard(form);
          formsContainer.appendChild(formCard);
        });
      }
      
      // Update counter
      if (showingCount) {
        showingCount.textContent = filteredForms.length.toString();
      }
    }
    
    function createFormCard(form: any) {
      const card = document.createElement('div');
      card.className = 'block bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden group border border-gray-100 hover:border-blue-200 cursor-pointer';
      
      const title = currentLang === 'es' && form.titleEs ? form.titleEs : form.title;
      const description = currentLang === 'es' && form.descriptionEs ? form.descriptionEs : form.description;
      const category = currentLang === 'es' && form.categoryEs ? form.categoryEs : form.category;
      const detailsText = currentLang === 'es' ? 'Ver Detalles' : 'View Details';
      
      card.innerHTML = `
        <div class="relative h-52 bg-gradient-to-br from-blue-50 to-purple-50 overflow-hidden">
          <img 
            src="${form.thumbnail}" 
            alt="${title}"
            class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
          />
          <div class="absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent group-hover:from-black/50 transition-all duration-300"></div>
          
          <div class="absolute top-4 left-4">
            <span class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-3 py-1.5 rounded-full text-xs font-semibold shadow-lg">
              ${category}
            </span>
          </div>
          
          <div class="absolute top-4 right-4">
            <div class="bg-white/20 backdrop-blur-sm p-2 rounded-lg">
              <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.29-1.009-5.824-2.65M15 6.75a3 3 0 11-6 0 3 3 0 016 0z"></path>
              </svg>
            </div>
          </div>
          
          <div class="absolute bottom-4 right-4">
            <div class="bg-white/20 backdrop-blur-sm p-1.5 rounded-lg">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"></path>
              </svg>
            </div>
          </div>
          
          <div class="absolute bottom-4 left-4">
            <div class="bg-black/20 backdrop-blur-sm px-2 py-1 rounded text-xs text-white font-mono">
              ${form.id.replace('form-', '')}
            </div>
          </div>
        </div>
        
        <div class="p-6">
          <h3 class="text-lg font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-blue-600 transition-colors">
            ${title}
          </h3>
          <p class="text-gray-600 text-sm mb-4 line-clamp-3 leading-relaxed">
            ${description}
          </p>
          
          <div class="flex items-center justify-between text-xs text-gray-500 mb-4">
            <div class="flex items-center space-x-1">
              <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.29-1.009-5.824-2.65M15 6.75a3 3 0 11-6 0 3 3 0 016 0z"></path>
              </svg>
              <span>PDF Form</span>
            </div>
            <div class="flex items-center space-x-1">
              <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <span>Editable</span>
            </div>
          </div>
          
          <div class="flex items-center justify-center space-x-2">
            <a 
              href="/pdf/${form.id}"
              class="inline-flex items-center space-x-2 border-2 border-gray-300 hover:border-blue-500 text-gray-700 hover:text-blue-600 px-4 py-2 rounded-lg transition-all duration-200 font-medium"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
              </svg>
              <span>${currentLang === 'es' ? 'Ver' : 'View'}</span>
            </a>
            <a 
              href="/edit/${form.id}"
              class="inline-flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-4 py-2 rounded-lg transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
              </svg>
              <span>${currentLang === 'es' ? 'Editar' : 'Edit'}</span>
            </a>
          </div>
        </div>
      `;
      
      return card;
    }
    
    // Event listeners
    searchInput?.addEventListener('input', filterAndSortForms);
    categoryFilter?.addEventListener('change', filterAndSortForms);
    sortSelect?.addEventListener('change', filterAndSortForms);
    
    // Initialize
    filterAndSortForms();
  });
</script>